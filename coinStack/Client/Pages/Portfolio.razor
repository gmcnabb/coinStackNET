@page "/portfolio"
@using System.Net.Http
@inject HttpClient Http
@inject coinStack.Client.Services.ICoinService CoinService

<div class="container is-max-desktop">
    <PortfolioTitle />
    <PortfolioSummary />
    <div class="box mt-4 mb-2 py-0 is-transparent"
         style="border-color: #4b4b4b; border-radius: 5px; border-style: solid; border-width: 1px;">
        <div class="columns is-gapless is-mobile">
            <div class="column">
                <strong>Coin</strong>
            </div>
            <div class="column has-text-centered">
                <strong>Price&emsp;</strong>
            </div>
            <div class="column has-text-right">
                <strong>Holdings&nbsp;</strong>
            </div>
        </div>
    </div>
    <div>
        @foreach (var Coin in CoinService.Coins)
        {
            <div>@Coin.GeckoName</div>
        }
    </div>
</div>

@code{
    protected override async Task OnInitializedAsync()
    {
        await CoinService.LoadCoinsAsync();
    }

    public WatchlistEntry watchlist;

    public class WatchlistEntry
    {
        public WatchlistEntry(string[] coinIds, string userId, string postId)
        {
            this.values = coinIds;
            this.userId = userId;
            this.GeckoId = postId;
        }
        public string[] values { get; set; }
        public string userId { get; set; }
        public string GeckoId { get; set; }
    }

}